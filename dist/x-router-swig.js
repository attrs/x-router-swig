!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("xrouterswig",[],t):"object"==typeof exports?exports.xrouterswig=t():e.xrouterswig=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o={};e.exports=function(e){return e=e||{},function(t,n,i){if(!t)return i(new Error("missing src"));if("string"!=typeof t)return i(new TypeError("src must be a string(url)"));var a=n.target,u=n.cache===!0||e.cache===!0,s=function(e,t){var n=e(t);a.innerHTML=n,i()};u&&o[t]?s(o[t],n.locals||{}):this.util.ajax(t,function(a,c){if(a)return i(a);var l=r.compile(c,e.options);u&&(o[t]=l),s(l,n.locals||{})})}}},function(e,t,n){e.exports=n(2)},function(e,t,n){function r(){return""}function o(e){if(e){if(i.each(["varControls","tagControls","cmtControls"],function(t){if(e.hasOwnProperty(t)){if(!i.isArray(e[t])||2!==e[t].length)throw new Error('Option "'+t+'" must be an array containing 2 different control strings.');if(e[t][0]===e[t][1])throw new Error('Option "'+t+'" open and close controls must not be the same.');i.each(e[t],function(e,n){if(e.length<2)throw new Error('Option "'+t+'" '+(n?"open ":"close ")+'control must be at least 2 characters. Saw "'+e+'" instead.')})}}),e.hasOwnProperty("cache")&&e.cache&&"memory"!==e.cache&&(!e.cache.get||!e.cache.set))throw new Error("Invalid cache option "+JSON.stringify(e.cache)+' found. Expected "memory" or { get: function (key) { ... }, set: function (key, value) { ... } }.');if(e.hasOwnProperty("loader")&&e.loader&&(!e.loader.load||!e.loader.resolve))throw new Error("Invalid loader option "+JSON.stringify(e.loader)+" found. Expected { load: function (pathname, cb) { ... }, resolve: function (to, from) { ... } }.")}}var i=n(3),a=n(4),u=n(12),s=n(16),c=n(13),l=n(24);t.version="1.4.2";var p,f={autoescape:!0,varControls:["{{","}}"],tagControls:["{%","%}"],cmtControls:["{#","#}"],locals:{},cache:"memory",loader:l.fs()};t.setDefaults=function(e){o(e),p.options=i.extend(p.options,e)},t.setDefaultTZOffset=function(e){c.tzOffset=e},t.Swig=function(e){function t(e){return e&&e.locals?i.extend({},g.options.locals,e.locals):g.options.locals}function n(e){return e=e||{},e.hasOwnProperty("cache")&&!e.cache||!g.options.cache}function c(e,t){if(!n(t))return"memory"===g.options.cache?g.cache[e]:g.options.cache.get(e)}function l(e,t,r){if(!n(t))return"memory"===g.options.cache?void(g.cache[e]=r):void g.options.cache.set(e,r)}function p(e,t){return i.map(t,function(t){var n=t.args?t.args.join(""):"";return"block"===t.name&&e[n]&&(t=e[n]),t.content&&t.content.length&&(t.content=p(e,t.content)),t})}function h(e,t){var n=[];i.each(e,function(e){n.push(e)}),i.each(n.reverse(),function(e){"block"!==e.name&&t.unshift(e)})}function d(e,t){for(var n,r,o,a=e.parent,u=[],s=[];a;){if(!t||!t.filename)throw new Error('Cannot extend "'+a+'" because current template has no filename.');if(n=n||t.filename,n=g.options.loader.resolve(a,n),r=c(n,t)||g.parseFile(n,i.extend({},t,{filename:n})),a=r.parent,u.indexOf(n)!==-1)throw new Error('Illegal circular extends of "'+n+'".');u.push(n),s.push(r)}for(o=s.length,o=s.length-2;o>=0;o-=1)s[o].tokens=p(s[o].blocks,s[o+1].tokens),h(s[o].blocks,s[o].tokens);return s}o(e),this.options=i.extend({},f,e||{}),this.cache={},this.extensions={};var g=this,m=a,y=u;this.invalidateCache=function(){"memory"===g.options.cache&&(g.cache={})},this.setFilter=function(e,t){if("function"!=typeof t)throw new Error('Filter "'+e+'" is not a valid function.');y[e]=t},this.setTag=function(e,t,n,r,o){if("function"!=typeof t)throw new Error('Tag "'+e+'" parse method is not a valid function.');if("function"!=typeof n)throw new Error('Tag "'+e+'" compile method is not a valid function.');m[e]={parse:t,compile:n,ends:r||!1,block:!!o}},this.setExtension=function(e,t){g.extensions[e]=t},this.parse=function(e,n){o(n);var r,a=t(n),u={};for(r in n)n.hasOwnProperty(r)&&"locals"!==r&&(u[r]=n[r]);return n=i.extend({},g.options,u),n.locals=a,s.parse(this,e,n,m,y)},this.parseFile=function(e,t){var n;return t||(t={}),e=g.options.loader.resolve(e,t.resolveFrom),n=g.options.loader.load(e),t.filename||(t=i.extend({filename:e},t)),g.parse(n,t)},this.precompile=function(e,t){var n,r=g.parse(e,t),o=d(r,t);o.length&&(r.tokens=p(r.blocks,o[0].tokens),h(r.blocks,r.tokens));try{n=new Function("_swig","_ctx","_filters","_utils","_fn",'  var _ext = _swig.extensions,\n    _output = "";\n'+s.compile(r,o,t)+"\n  return _output;\n")}catch(a){i.throwError(a,null,t.filename)}return{tpl:n,tokens:r}},this.render=function(e,t){return g.compile(e,t)()},this.renderFile=function(e,t,n){return n?void g.compileFile(e,{},function(e,r){var o;if(e)return void n(e);try{o=r(t)}catch(i){return void n(i)}n(null,o)}):g.compileFile(e)(t)},this.compile=function(e,n){function o(e){var t;return t=e&&u?i.extend({},a,e):e&&!u?e:!e&&u?a:{},s.tpl(g,t,y,i,r)}var a,u,s,p=n?n.filename:null,f=p?c(p,n):null;return f?f:(a=t(n),u=i.keys(a).length,s=this.precompile(e,n),i.extend(o,s.tokens),p&&l(p,n,o),o)},this.compileFile=function(e,t,n){var r,o;return t||(t={}),e=g.options.loader.resolve(e,t.resolveFrom),t.filename||(t=i.extend({filename:e},t)),(o=c(e,t))?n?void n(null,o):o:n?void g.options.loader.load(e,function(e,r){if(e)return void n(e);var o;try{o=g.compile(r,t)}catch(i){return void n(i)}n(e,o)}):(r=g.options.loader.load(e),g.compile(r,t))},this.run=function(e,n,o){var a=t({locals:n});return o&&l(o,{},e),e(g,a,y,i,r)}},/*!
	 * Export methods publicly
	 */
p=new t.Swig,t.setFilter=p.setFilter,t.setTag=p.setTag,t.setExtension=p.setExtension,t.parseFile=p.parseFile,t.precompile=p.precompile,t.compile=p.compile,t.compileFile=p.compileFile,t.render=p.render,t.renderFile=p.renderFile,t.run=p.run,t.invalidateCache=p.invalidateCache,t.loaders=l},function(e,t){var n;t.strip=function(e){return e.replace(/^\s+|\s+$/g,"")},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.endsWith=function(e,t){return e.indexOf(t,e.length-t.length)!==-1},t.each=function(e,t){var r,o;if(n(e))for(r=0,o=e.length,r;r<o&&t(e[r],r,e)!==!1;r+=1);else for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r,e)===!1)break;return e},t.isArray=n=Array.hasOwnProperty("isArray")?Array.isArray:function(e){return!!e&&("object"==typeof e&&Object.prototype.toString.call(e).indexOf()!==-1)},t.some=function(e,r){var o,i,a=0;if(n(e))for(i=e.length,a;a<i&&!(o=r(e[a],a,e));a+=1);else t.each(e,function(t,n){return o=r(t,n,e),!o});return!!o},t.map=function(e,t){var r,o=0,i=[];if(n(e))for(r=e.length,o;o<r;o+=1)i[o]=t(e[o],o);else for(o in e)e.hasOwnProperty(o)&&(i[o]=t(e[o],o));return i},t.extend=function(){var e,t,n=arguments,r=n[0],o=n.length>1?Array.prototype.slice.call(n,1):[],i=0,a=o.length;for(i;i<a;i+=1){t=o[i]||{};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}return r},t.keys=function(e){return e?Object.keys?Object.keys(e):t.map(e,function(e,t){return t}):[]},t.throwError=function(e,t,n){throw t&&(e+=" on line "+t),n&&(e+=" in file "+n),new Error(e+".")}},function(e,t,n){t.autoescape=n(5),t.block=n(6),t["else"]=n(7),t.elseif=n(8),t.elif=t.elseif,t["extends"]=n(10),t.filter=n(11),t["for"]=n(14),t["if"]=n(9),t["import"]=n(15),t.include=n(18),t.macro=n(19),t.parent=n(20),t.raw=n(21),t.set=n(22),t.spaceless=n(23)},function(e,t,n){var r=n(3),o=["html","js"];t.compile=function(e,t,n,r,o,i){return e(n,r,o,i)},t.parse=function(e,t,n,i,a,u){var s;return n.on("*",function(e){return s||e.type!==i.BOOL&&(e.type!==i.STRING||o.indexOf(e.match)!==-1)?void r.throwError('Unexpected token "'+e.match+'" in autoescape tag',t,u.filename):(this.out.push(e.match),void(s=!0))}),!0},t.ends=!0},function(e,t){t.compile=function(e,t,n,r,o){return e(n,r,o,t.join(""))},t.parse=function(e,t,n){return n.on("*",function(e){this.out.push(e.match)}),!0},t.ends=!0,t.block=!0},function(e,t){t.compile=function(){return"} else {\n"},t.parse=function(e,t,n,r,o){return n.on("*",function(e){throw new Error('"else" tag does not accept any tokens. Found "'+e.match+'" on line '+t+".")}),o.length&&"if"===o[o.length-1].name}},function(e,t,n){var r=n(9).parse;t.compile=function(e,t){return"} else if ("+t.join(" ")+") {\n"},t.parse=function(e,t,n,o,i){var a=r(e,t,n,o,i);return a&&i.length&&"if"===i[i.length-1].name}},function(e,t){t.compile=function(e,t,n,r,o,i){return"if ("+t.join(" ")+") { \n"+e(n,r,o,i)+"\n}"},t.parse=function(e,t,n,r){if("undefined"==typeof e)throw new Error("No conditional statement provided on line "+t+".");return n.on(r.COMPARATOR,function(e){if(this.isLast)throw new Error('Unexpected logic "'+e.match+'" on line '+t+".");if(this.prevToken.type===r.NOT)throw new Error('Attempted logic "not '+e.match+'" on line '+t+". Use !(foo "+e.match+") instead.");this.out.push(e.match),this.filterApplyIdx.push(this.out.length)}),n.on(r.NOT,function(e){if(this.isLast)throw new Error('Unexpected logic "'+e.match+'" on line '+t+".");this.out.push(e.match)}),n.on(r.BOOL,function(e){this.out.push(e.match)}),n.on(r.LOGIC,function(e){if(!this.out.length||this.isLast)throw new Error('Unexpected logic "'+e.match+'" on line '+t+".");this.out.push(e.match),this.filterApplyIdx.pop()}),!0},t.ends=!0},function(e,t){t.compile=function(){},t.parse=function(){return!0},t.ends=!1},function(e,t,n){var r=n(12);t.compile=function(e,t,n,r,o,i){var a=t.shift().replace(/\($/,""),u='(function () {\n  var _output = "";\n'+e(n,r,o,i)+"  return _output;\n})()";return")"===t[t.length-1]&&t.pop(),t=t.length?", "+t.join(""):"",'_output += _filters["'+a+'"]('+u+t+");\n"},t.parse=function(e,t,n,o){function i(e){if(!r.hasOwnProperty(e))throw new Error('Filter "'+e+'" does not exist on line '+t+".")}var a;return n.on(o.FUNCTION,function(e){return!!a||(a=e.match.replace(/\($/,""),i(a),this.out.push(e.match),void this.state.push(e.type))}),n.on(o.VAR,function(e){return!!a||(a=e.match,i(a),void this.out.push(a))}),!0},t.ends=!0},function(e,t,n){function r(e){var t=this,n={};return o.isArray(e)?o.map(e,function(e){return t.apply(null,arguments)}):"object"==typeof e?(o.each(e,function(e,r){n[r]=t.apply(null,arguments)}),n):void 0}var o=n(3),i=n(13);t.addslashes=function(e){var n=r.apply(t.addslashes,arguments);return void 0!==n?n:e.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\"/g,'\\"')},t.capitalize=function(e){var n=r.apply(t.capitalize,arguments);return void 0!==n?n:e.toString().charAt(0).toUpperCase()+e.toString().substr(1).toLowerCase()},t.date=function(e,t,n,r){var o,a=t.length,u=new i.DateZ(e),s=0,c="";for(n&&u.setTimezoneOffset(n,r),s;s<a;s+=1)o=t.charAt(s),"\\"===o?(s+=1,c+=s<a?t.charAt(s):o):c+=i.hasOwnProperty(o)?i[o](u,n,r):o;return c},t["default"]=function(e,t){return"undefined"==typeof e||!e&&"number"!=typeof e?t:e},t.escape=function(e,n){var o,i=r.apply(t.escape,arguments),a=e,u=0;if(void 0!==i)return i;if("string"!=typeof e)return e;switch(i="",n){case"js":for(a=a.replace(/\\/g,"\\u005C"),u;u<a.length;u+=1)o=a.charCodeAt(u),o<32?(o=o.toString(16).toUpperCase(),o=o.length<2?"0"+o:o,i+="\\u00"+o):i+=a[u];return i.replace(/&/g,"\\u0026").replace(/</g,"\\u003C").replace(/>/g,"\\u003E").replace(/\'/g,"\\u0027").replace(/"/g,"\\u0022").replace(/\=/g,"\\u003D").replace(/-/g,"\\u002D").replace(/;/g,"\\u003B");default:return a.replace(/&(?!amp;|lt;|gt;|quot;|#39;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},t.e=t.escape,t.first=function(e){if("object"==typeof e&&!o.isArray(e)){var t=o.keys(e);return e[t[0]]}return"string"==typeof e?e.substr(0,1):e[0]},t.groupBy=function(e,t){if(!o.isArray(e))return e;var n={};return o.each(e,function(e){if(e.hasOwnProperty(t)){var r=e[t];o.extend({},e);delete e[t],n[r]||(n[r]=[]),n[r].push(e)}}),n},t.join=function(e,t){if(o.isArray(e))return e.join(t);if("object"==typeof e){var n=[];return o.each(e,function(e){n.push(e)}),n.join(t)}return e},t.json=function(e,t){return JSON.stringify(e,null,t||0)},t.json_encode=t.json,t.last=function(e){if("object"==typeof e&&!o.isArray(e)){var t=o.keys(e);return e[t[t.length-1]]}return"string"==typeof e?e.charAt(e.length-1):e[e.length-1]},t.lower=function(e){var n=r.apply(t.lower,arguments);return void 0!==n?n:e.toString().toLowerCase()},t.raw=function(e){return t.safe(e)},t.raw.safe=!0,t.replace=function(e,t,n,r){var o=new RegExp(t,r);return e.replace(o,n)},t.reverse=function(e){return t.sort(e,!0)},t.safe=function(e){return e},t.safe.safe=!0,t.sort=function(e,t){var n;if(o.isArray(e))n=e.sort();else switch(typeof e){case"object":n=o.keys(e).sort();break;case"string":return n=e.split(""),t?n.reverse().join(""):n.sort().join("")}return n&&t?n.reverse():n||e},t.striptags=function(e){var n=r.apply(t.striptags,arguments);return void 0!==n?n:e.toString().replace(/(<([^>]+)>)/gi,"")},t.title=function(e){var n=r.apply(t.title,arguments);return void 0!==n?n:e.toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.uniq=function(e){var t;return e&&o.isArray(e)?(t=[],o.each(e,function(e){t.indexOf(e)===-1&&t.push(e)}),t):""},t.upper=function(e){var n=r.apply(t.upper,arguments);return void 0!==n?n:e.toString().toUpperCase()},t.url_encode=function(e){var n=r.apply(t.url_encode,arguments);return void 0!==n?n:encodeURIComponent(e)},t.url_decode=function(e){var n=r.apply(t.url_decode,arguments);return void 0!==n?n:decodeURIComponent(e)}},function(e,t,n){var r=n(3),o={full:["January","February","March","April","May","June","July","August","September","October","November","December"],abbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i={full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],alt:{"-1":"Yesterday",0:"Today",1:"Tomorrow"}};t.tzOffset=0,t.DateZ=function(){var e={"default":["getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","toISOString","toGMTString","toUTCString","valueOf","getTime"],z:["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear","toDateString","toLocaleDateString","toLocaleTimeString"]},n=this;n.date=n.dateZ=arguments.length>1?new Date(Date.UTC.apply(Date,arguments)+6e4*(new Date).getTimezoneOffset()):1===arguments.length?new Date(new Date(arguments[0])):new Date,n.timezoneOffset=n.dateZ.getTimezoneOffset(),r.each(e.z,function(e){n[e]=function(){return n.dateZ[e]()}}),r.each(e["default"],function(e){n[e]=function(){return n.date[e]()}}),this.setTimezoneOffset(t.tzOffset)},t.DateZ.prototype={getTimezoneOffset:function(){return this.timezoneOffset},setTimezoneOffset:function(e){return this.timezoneOffset=e,this.dateZ=new Date(this.date.getTime()+6e4*this.date.getTimezoneOffset()-6e4*this.timezoneOffset),this}},t.d=function(e){return(e.getDate()<10?"0":"")+e.getDate()},t.D=function(e){return i.abbr[e.getDay()]},t.j=function(e){return e.getDate()},t.l=function(e){return i.full[e.getDay()]},t.N=function(e){var t=e.getDay();return t>=1?t:7},t.S=function(e){var t=e.getDate();return t%10===1&&11!==t?"st":t%10===2&&12!==t?"nd":t%10===3&&13!==t?"rd":"th"},t.w=function(e){return e.getDay()},t.z=function(e,n,r){var o=e.getFullYear(),i=new t.DateZ(o,e.getMonth(),e.getDate(),12,0,0),a=new t.DateZ(o,0,1,12,0,0);return i.setTimezoneOffset(n,r),a.setTimezoneOffset(n,r),Math.round((i-a)/864e5)},t.W=function(e){var t,n=new Date(e.valueOf()),r=(e.getDay()+6)%7;return n.setDate(n.getDate()-r+3),t=n.valueOf(),n.setMonth(0,1),4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),1+Math.ceil((t-n)/6048e5)},t.F=function(e){return o.full[e.getMonth()]},t.m=function(e){return(e.getMonth()<9?"0":"")+(e.getMonth()+1)},t.M=function(e){return o.abbr[e.getMonth()]},t.n=function(e){return e.getMonth()+1},t.t=function(e){return 32-new Date(e.getFullYear(),e.getMonth(),32).getDate()},t.L=function(e){return 29===new Date(e.getFullYear(),1,29).getDate()},t.o=function(e){var t=new Date(e.valueOf());return t.setDate(t.getDate()-(e.getDay()+6)%7+3),t.getFullYear()},t.Y=function(e){return e.getFullYear()},t.y=function(e){return e.getFullYear().toString().substr(2)},t.a=function(e){return e.getHours()<12?"am":"pm"},t.A=function(e){return e.getHours()<12?"AM":"PM"},t.B=function(e){var t,n=e.getUTCHours();return n=23===n?0:n+1,t=Math.abs((60*(60*n+e.getUTCMinutes())+e.getUTCSeconds())/86.4).toFixed(0),"000".concat(t).slice(t.length)},t.g=function(e){var t=e.getHours();return 0===t?12:t>12?t-12:t},t.G=function(e){return e.getHours()},t.h=function(e){var t=e.getHours();return(t<10||12<t&&22>t?"0":"")+(t<12?t:t-12)},t.H=function(e){var t=e.getHours();return(t<10?"0":"")+t},t.i=function(e){var t=e.getMinutes();return(t<10?"0":"")+t},t.s=function(e){var t=e.getSeconds();return(t<10?"0":"")+t},t.O=function(e){var t=e.getTimezoneOffset();return(t<0?"-":"+")+(t/60<10?"0":"")+Math.abs(t/60)+"00"},t.Z=function(e){return 60*e.getTimezoneOffset()},t.c=function(e){return e.toISOString()},t.r=function(e){return e.toUTCString()},t.U=function(e){return e.getTime()/1e3}},function(e,t){var n="_ctx.",r=n+"loop";t.compile=function(e,t,o,i,a,u){var s,c=t.shift(),l="__k",p=(n+"__loopcache"+Math.random()).replace(/\./g,"");return t[0]&&","===t[0]&&(t.shift(),l=c,c=t.shift()),s=t.join(""),["(function () {\n","  var __l = "+s+', __len = (_utils.isArray(__l) || typeof __l === "string") ? __l.length : _utils.keys(__l).length;\n',"  if (!__l) { return; }\n","    var "+p+" = { loop: "+r+", "+c+": "+n+c+", "+l+": "+n+l+" };\n","    "+r+" = { first: false, index: 1, index0: 0, revindex: __len, revindex0: __len - 1, length: __len, last: false };\n","  _utils.each(__l, function ("+c+", "+l+") {\n","    "+n+c+" = "+c+";\n","    "+n+l+" = "+l+";\n","    "+r+".key = "+l+";\n","    "+r+".first = ("+r+".index0 === 0);\n","    "+r+".last = ("+r+".revindex0 === 0);\n","    "+e(o,i,a,u),"    "+r+".index += 1; "+r+".index0 += 1; "+r+".revindex -= 1; "+r+".revindex0 -= 1;\n","  });\n","  "+r+" = "+p+".loop;\n","  "+n+c+" = "+p+"."+c+";\n","  "+n+l+" = "+p+"."+l+";\n","  "+p+" = undefined;\n","})();\n"].join("")},t.parse=function(e,t,n,r){var o,i;return n.on(r.NUMBER,function(e){var n=this.state.length?this.state[this.state.length-1]:null;if(!i||n!==r.ARRAYOPEN&&n!==r.CURLYOPEN&&n!==r.CURLYCLOSE&&n!==r.FUNCTION&&n!==r.FILTER)throw new Error('Unexpected number "'+e.match+'" on line '+t+".");return!0}),n.on(r.VAR,function(e){return!(!i||!o)||(this.out.length||(o=!0),void this.out.push(e.match))}),n.on(r.COMMA,function(e){return!o||this.prevToken.type!==r.VAR||void this.out.push(e.match)}),n.on(r.COMPARATOR,function(e){if("in"!==e.match||!o)throw new Error('Unexpected token "'+e.match+'" on line '+t+".");i=!0,this.filterApplyIdx.push(this.out.length)}),!0},t.ends=!0},function(e,t,n){var r=n(3);t.compile=function(e,t){var n=t.pop(),o="_ctx."+n+' = {};\n  var _output = "";\n',i=r.map(t,function(e){return{ex:new RegExp("_ctx."+e.name,"g"),re:"_ctx."+n+"."+e.name}});return r.each(t,function(e){var t=e.compiled;r.each(i,function(e){t=t.replace(e.ex,e.re)}),o+=t}),o},t.parse=function(e,t,o,i,a,u,s){var c,l,p=n(16).compile,f={resolveFrom:u.filename},h=r.extend({},u,f);return o.on(i.STRING,function(e){var n=this;if(!c)return c=s.parseFile(e.match.replace(/^("|')|("|')$/g,""),f).tokens,void r.each(c,function(e){var t,r="";e&&"macro"===e.name&&e.compile&&(t=e.args[0],r+=e.compile(p,e.args,e.content,[],h)+"\n",n.out.push({compiled:r,name:t}))});throw new Error("Unexpected string "+e.match+" on line "+t+".")}),o.on(i.VAR,function(e){var n=this;if(!c||l)throw new Error('Unexpected variable "'+e.match+'" on line '+t+".");if("as"!==e.match)return l=e.match,n.out.push(l),!1}),!0},t.block=!0},function(e,t,n){/*!
	 * Makes a string safe for a regular expression.
	 * @param  {string} str
	 * @return {string}
	 * @private
	 */
function r(e){return e.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}function o(e,t,n,r,o){this.out=[],this.state=[],this.filterApplyIdx=[],this._parsers={},this.line=r,this.filename=o,this.filters=t,this.escape=n,this.parse=function(){var t=this;return t._parsers.start&&t._parsers.start.call(t),i.each(e,function(n,r){var o=e[r-1];if(t.isLast=r===e.length-1,o)for(;o.type===u.WHITESPACE;)r-=1,o=e[r-1];t.prevToken=o,t.parseToken(n)}),t._parsers.end&&t._parsers.end.call(t),t.escape&&(t.filterApplyIdx=[0],"string"==typeof t.escape?(t.parseToken({type:u.FILTER,match:"e"}),t.parseToken({type:u.COMMA,match:","}),t.parseToken({type:u.STRING,match:String(n)}),t.parseToken({type:u.PARENCLOSE,match:")"})):t.parseToken({type:u.FILTEREMPTY,match:"e"})),t.out}}var i=n(3),a=n(17),u=a.types,s=["break","case","catch","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with"];o.prototype={on:function(e,t){this._parsers[e]=t},parseToken:function(e){var t,n=this,r=n._parsers[e.type]||n._parsers["*"],o=e.match,a=n.prevToken,s=a?a.type:null,c=n.state.length?n.state[n.state.length-1]:null;if(!r||"function"!=typeof r||r.call(this,e))switch(c&&a&&c===u.FILTER&&s===u.FILTER&&e.type!==u.PARENCLOSE&&e.type!==u.COMMA&&e.type!==u.OPERATOR&&e.type!==u.FILTER&&e.type!==u.FILTEREMPTY&&n.out.push(", "),c&&c===u.METHODOPEN&&(n.state.pop(),e.type!==u.PARENCLOSE&&n.out.push(", ")),e.type){case u.WHITESPACE:break;case u.STRING:n.filterApplyIdx.push(n.out.length),n.out.push(o.replace(/\\/g,"\\\\"));break;case u.NUMBER:case u.BOOL:n.filterApplyIdx.push(n.out.length),n.out.push(o);break;case u.FILTER:n.filters.hasOwnProperty(o)&&"function"==typeof n.filters[o]||i.throwError('Invalid filter "'+o+'"',n.line,n.filename),n.escape=!n.filters[o].safe&&n.escape,n.out.splice(n.filterApplyIdx[n.filterApplyIdx.length-1],0,'_filters["'+o+'"]('),n.state.push(e.type);break;case u.FILTEREMPTY:n.filters.hasOwnProperty(o)&&"function"==typeof n.filters[o]||i.throwError('Invalid filter "'+o+'"',n.line,n.filename),n.escape=!n.filters[o].safe&&n.escape,n.out.splice(n.filterApplyIdx[n.filterApplyIdx.length-1],0,'_filters["'+o+'"]('),n.out.push(")");break;case u.FUNCTION:case u.FUNCTIONEMPTY:n.out.push("((typeof _ctx."+o+' !== "undefined") ? _ctx.'+o+" : ((typeof "+o+' !== "undefined") ? '+o+" : _fn))("),n.escape=!1,e.type===u.FUNCTIONEMPTY?n.out[n.out.length-1]=n.out[n.out.length-1]+")":n.state.push(e.type),n.filterApplyIdx.push(n.out.length-1);break;case u.PARENOPEN:n.state.push(e.type),n.filterApplyIdx.length?(n.out.splice(n.filterApplyIdx[n.filterApplyIdx.length-1],0,"("),a&&s===u.VAR?(t=a.match.split(".").slice(0,-1),n.out.push(" || _fn).call("+n.checkMatch(t)),n.state.push(u.METHODOPEN),n.escape=!1):n.out.push(" || _fn)("),n.filterApplyIdx.push(n.out.length-3)):(n.out.push("("),n.filterApplyIdx.push(n.out.length-1));break;case u.PARENCLOSE:t=n.state.pop(),t!==u.PARENOPEN&&t!==u.FUNCTION&&t!==u.FILTER&&i.throwError("Mismatched nesting state",n.line,n.filename),n.out.push(")"),n.filterApplyIdx.pop(),t!==u.FILTER&&n.filterApplyIdx.pop();break;case u.COMMA:c!==u.FUNCTION&&c!==u.FILTER&&c!==u.ARRAYOPEN&&c!==u.CURLYOPEN&&c!==u.PARENOPEN&&c!==u.COLON&&i.throwError("Unexpected comma",n.line,n.filename),c===u.COLON&&n.state.pop(),n.out.push(", "),n.filterApplyIdx.pop();break;case u.LOGIC:case u.COMPARATOR:a&&s!==u.COMMA&&s!==e.type&&s!==u.BRACKETOPEN&&s!==u.CURLYOPEN&&s!==u.PARENOPEN&&s!==u.FUNCTION||i.throwError("Unexpected logic",n.line,n.filename),n.out.push(e.match);break;case u.NOT:n.out.push(e.match);break;case u.VAR:n.parseVar(e,o,c);break;case u.BRACKETOPEN:!a||s!==u.VAR&&s!==u.BRACKETCLOSE&&s!==u.PARENCLOSE?(n.state.push(u.ARRAYOPEN),n.filterApplyIdx.push(n.out.length)):n.state.push(e.type),n.out.push("[");break;case u.BRACKETCLOSE:t=n.state.pop(),t!==u.BRACKETOPEN&&t!==u.ARRAYOPEN&&i.throwError("Unexpected closing square bracket",n.line,n.filename),n.out.push("]"),n.filterApplyIdx.pop();break;case u.CURLYOPEN:n.state.push(e.type),n.out.push("{"),n.filterApplyIdx.push(n.out.length-1);break;case u.COLON:c!==u.CURLYOPEN&&i.throwError("Unexpected colon",n.line,n.filename),n.state.push(e.type),n.out.push(":"),n.filterApplyIdx.pop();break;case u.CURLYCLOSE:c===u.COLON&&n.state.pop(),n.state.pop()!==u.CURLYOPEN&&i.throwError("Unexpected closing curly brace",n.line,n.filename),n.out.push("}"),n.filterApplyIdx.pop();break;case u.DOTKEY:(!a||s!==u.VAR&&s!==u.BRACKETCLOSE&&s!==u.DOTKEY&&s!==u.PARENCLOSE&&s!==u.FUNCTIONEMPTY&&s!==u.FILTEREMPTY&&s!==u.CURLYCLOSE)&&i.throwError('Unexpected key "'+o+'"',n.line,n.filename),n.out.push("."+o);break;case u.OPERATOR:n.out.push(" "+o+" "),n.filterApplyIdx.pop()}},parseVar:function(e,t,n){var r=this;return t=t.split("."),s.indexOf(t[0])!==-1&&i.throwError('Reserved keyword "'+t[0]+'" attempted to be used as a variable',r.line,r.filename),r.filterApplyIdx.push(r.out.length),n===u.CURLYOPEN?(t.length>1&&i.throwError("Unexpected dot",r.line,r.filename),void r.out.push(t[0])):void r.out.push(r.checkMatch(t))},checkMatch:function(e){function t(t){var n=t+o,r=e,a="";return a="(typeof "+n+' !== "undefined" && '+n+" !== null",i.each(r,function(e,t){0!==t&&(a+=" && "+n+"."+e+" !== undefined && "+n+"."+e+" !== null",n+="."+e)}),a+=")"}function n(n){return"("+t(n)+" ? "+n+e.join(".")+' : "")'}var r,o=e[0];return r="("+t("_ctx.")+" ? "+n("_ctx.")+" : "+n("")+")","("+r+" !== null ? "+r+' : "" )'}},t.parse=function(e,n,s,c,l){function p(e,t){var n,r,u=a.read(i.strip(e));return n=new o(u,l,g,t,s.filename),r=n.parse().join(""),n.state.length&&i.throwError('Unable to parse "'+e+'"',t,s.filename),{compile:function(){return"_output += "+r+";\n"}}}function f(t,n){var r,p,f,h,d,m,y;if(i.startsWith(t,"end")){if(y=M[M.length-1],y&&y.name===t.split(/\s+/)[0].replace(/^end/,"")&&y.ends){switch(y.name){case"autoescape":g=s.autoescape;break;case"raw":Y=!1}return void M.pop()}Y||i.throwError('Unexpected end of tag "'+t.replace(/^end/,"")+'"',n,s.filename)}if(!Y){switch(f=t.split(/\s+(.+)?/),h=f.shift(),c.hasOwnProperty(h)||i.throwError('Unexpected tag "'+t+'"',n,s.filename),r=a.read(i.strip(f.join(" "))),p=new o(r,l,(!1),n,s.filename),d=c[h],d.parse(f[1],n,p,u,M,s,e)||i.throwError('Unexpected tag "'+h+'"',n,s.filename),p.parse(),m=p.out,h){case"autoescape":g="false"!==m[0]&&m[0];break;case"raw":Y=!0}return{block:!!c[h].block,compile:d.compile,args:m,content:[],ends:d.ends,name:h}}}function h(e){return"string"==typeof e&&(e=e.replace(/\s*$/,"")),e}n=n.replace(/\r\n/g,"\n");var d,g=s.autoescape,m=s.tagControls[0],y=s.tagControls[1],v=s.varControls[0],E=s.varControls[1],O=r(m),x=r(y),w=r(v),T=r(E),A=new RegExp("^"+O+"-?\\s*-?|-?\\s*-?"+x+"$","g"),C=new RegExp("^"+O+"-"),R=new RegExp("-"+x+"$"),N=new RegExp("^"+w+"-?\\s*-?|-?\\s*-?"+T+"$","g"),b=new RegExp("^"+w+"-"),k=new RegExp("-"+T+"$"),_=s.cmtControls[0],I=s.cmtControls[1],P="[\\s\\S]*?",U=new RegExp("("+O+P+x+"|"+w+P+T+"|"+r(_)+P+r(I)+")"),L=1,M=[],S=null,F=[],D={},Y=!1;/*!
	   * Loop over the source, split via the tag/var/comment regular expression splitter.
	   * Send each chunk to the appropriate parser.
	   */
return t.parseVariable=p,i.each(n.split(U),function(e){var t,n,r,o,a;if(e){if(!Y&&i.startsWith(e,v)&&i.endsWith(e,E))r=b.test(e),d=k.test(e),t=p(e.replace(N,""),L);else if(i.startsWith(e,m)&&i.endsWith(e,y))r=C.test(e),d=R.test(e),t=f(e.replace(A,""),L),t&&("extends"===t.name?S=t.args.join("").replace(/^\'|\'$/g,"").replace(/^\"|\"$/g,""):t.block&&!M.length&&(D[t.args.join("")]=t)),Y&&!t&&(t=e);else if(Y||!i.startsWith(e,_)&&!i.endsWith(e,I))t=d?e.replace(/^\s*/,""):e,d=!1;else if(i.startsWith(e,_)&&i.endsWith(e,I))return;r&&F.length&&(o=F.pop(),"string"==typeof o?o=h(o):o.content&&o.content.length&&(a=h(o.content.pop()),o.content.push(a)),F.push(o)),t&&(M.length?M[M.length-1].content.push(t):F.push(t),t.name&&t.ends&&M.push(t),n=e.match(/\n/g),L+=n?n.length:0)}}),{name:s.filename,parent:S,tokens:F,blocks:D}},t.compile=function(e,n,r,o){var a="",u=i.isArray(e)?e:e.tokens;return i.each(u,function(e){var i;return"string"==typeof e?void(a+='_output += "'+e.replace(/\\/g,"\\\\").replace(/\n|\r/g,"\\n").replace(/"/g,'\\"')+'";\n'):(i=e.compile(t.compile,e.args?e.args.slice(0):[],e.content?e.content.slice(0):[],n,r,o),void(a+=i||""))}),a}},function(e,t,n){function r(e){var t;return o.some(a,function(n){return o.some(n.regex,function(r){var o,i=e.match(r);if(i)return o=i[n.idx||0].replace(/\s*$/,""),o=n.hasOwnProperty("replace")&&n.replace.hasOwnProperty(o)?n.replace[o]:o,t={match:o,type:n.type,length:i[0].length},!0})}),t||(t={match:e,type:i.UNKNOWN,length:e.length}),t}var o=n(3),i={WHITESPACE:0,STRING:1,FILTER:2,FILTEREMPTY:3,FUNCTION:4,FUNCTIONEMPTY:5,PARENOPEN:6,PARENCLOSE:7,COMMA:8,VAR:9,NUMBER:10,OPERATOR:11,BRACKETOPEN:12,BRACKETCLOSE:13,DOTKEY:14,ARRAYOPEN:15,CURLYOPEN:17,CURLYCLOSE:18,COLON:19,COMPARATOR:20,LOGIC:21,NOT:22,BOOL:23,ASSIGNMENT:24,METHODOPEN:25,UNKNOWN:100},a=[{type:i.WHITESPACE,regex:[/^\s+/]},{type:i.STRING,regex:[/^""/,/^".*?[^\\]"/,/^''/,/^'.*?[^\\]'/]},{type:i.FILTER,regex:[/^\|\s*(\w+)\(/],idx:1},{type:i.FILTEREMPTY,regex:[/^\|\s*(\w+)/],idx:1},{type:i.FUNCTIONEMPTY,regex:[/^\s*(\w+)\(\)/],idx:1},{type:i.FUNCTION,regex:[/^\s*(\w+)\(/],idx:1},{type:i.PARENOPEN,regex:[/^\(/]},{type:i.PARENCLOSE,regex:[/^\)/]},{type:i.COMMA,regex:[/^,/]},{type:i.LOGIC,regex:[/^(&&|\|\|)\s*/,/^(and|or)\s+/],idx:1,replace:{and:"&&",or:"||"}},{type:i.COMPARATOR,regex:[/^(===|==|\!==|\!=|<=|<|>=|>|in\s|gte\s|gt\s|lte\s|lt\s)\s*/],idx:1,replace:{gte:">=",gt:">",lte:"<=",lt:"<"}},{type:i.ASSIGNMENT,regex:[/^(=|\+=|-=|\*=|\/=)/]},{type:i.NOT,regex:[/^\!\s*/,/^not\s+/],replace:{not:"!"}},{type:i.BOOL,regex:[/^(true|false)\s+/,/^(true|false)$/],idx:1},{type:i.VAR,regex:[/^[a-zA-Z_$]\w*((\.\$?\w*)+)?/,/^[a-zA-Z_$]\w*/]},{type:i.BRACKETOPEN,regex:[/^\[/]},{type:i.BRACKETCLOSE,regex:[/^\]/]},{type:i.CURLYOPEN,regex:[/^\{/]},{type:i.COLON,regex:[/^\:/]},{type:i.CURLYCLOSE,regex:[/^\}/]},{type:i.DOTKEY,regex:[/^\.(\w+)/],idx:1},{type:i.NUMBER,regex:[/^[+\-]?\d+(\.\d+)?/]},{type:i.OPERATOR,regex:[/^(\+|\-|\/|\*|%)/]}];t.types=i,t.read=function(e){for(var t,n,o=0,i=[];o<e.length;)t=e.substring(o),n=r(t),o+=n.length,i.push(n);return i}},function(e,t){var n="ignore",r="missing",o="only";t.compile=function(e,t){var n=t.shift(),i=t.indexOf(o),a=i!==-1&&t.splice(i,1),u=(t.pop()||"").replace(/\\/g,"\\\\"),s=t[t.length-1]===r&&t.pop(),c=t.join("");return(s?"  try {\n":"")+"_output += _swig.compileFile("+n+', {resolveFrom: "'+u+'"})('+(a&&c?c:c?"_utils.extend({}, _ctx, "+c+")":"_ctx")+");\n"+(s?"} catch (e) {}\n":"")},t.parse=function(e,t,i,a,u,s){var c,l;return i.on(a.STRING,function(e){return!!c||(c=e.match,void this.out.push(c))}),i.on(a.VAR,function(e){if(!c)return c=e.match,!0;if(!l&&"with"===e.match)return void(l=!0);if(l&&e.match===o&&"with"!==this.prevToken.match)return void this.out.push(e.match);if(e.match===n)return!1;if(e.match===r){if(this.prevToken.match!==n)throw new Error('Unexpected token "'+r+'" on line '+t+".");return this.out.push(e.match),!1}if(this.prevToken.match===n)throw new Error('Expected "'+r+'" on line '+t+' but found "'+e.match+'".');return!0}),i.on("end",function(){this.out.push(s.filename||null)}),!0}},function(e,t){t.compile=function(e,t,n,r,o,i){var a=t.shift();return"_ctx."+a+" = function ("+t.join("")+') {\n  var _output = "",\n    __ctx = _utils.extend({}, _ctx);\n  _utils.each(_ctx, function (v, k) {\n    if (["'+t.join('","')+'"].indexOf(k) !== -1) { delete _ctx[k]; }\n  });\n'+e(n,r,o,i)+"\n _ctx = _utils.extend(_ctx, __ctx);\n  return _output;\n};\n_ctx."+a+".safe = true;\n"},t.parse=function(e,t,n,r){var o;return n.on(r.VAR,function(e){if(e.match.indexOf(".")!==-1)throw new Error('Unexpected dot in macro argument "'+e.match+'" on line '+t+".");this.out.push(e.match)}),n.on(r.FUNCTION,function(e){o||(o=e.match,this.out.push(o),this.state.push(r.FUNCTION))}),n.on(r.FUNCTIONEMPTY,function(e){o||(o=e.match,this.out.push(o))}),n.on(r.PARENCLOSE,function(){if(!this.isLast)throw new Error("Unexpected parenthesis close on line "+t+".")}),n.on(r.COMMA,function(){return!0}),n.on("*",function(){}),!0},t.ends=!0,t.block=!0},function(e,t){t.compile=function(e,t,n,r,o,i){if(!r||!r.length)return"";var a,u,s=t[0],c=!0,l=r.length,p=0;for(p;p<l;p+=1)if(a=r[p],a.blocks&&a.blocks.hasOwnProperty(i)&&c&&s!==a.name)return u=a.blocks[i],u.compile(e,[i],u.content,r.slice(p+1),o)+"\n"},t.parse=function(e,t,n,r,o,i){return n.on("*",function(e){throw new Error('Unexpected argument "'+e.match+'" on line '+t+".")}),n.on("end",function(){this.out.push(i.filename)}),!0}},function(e,t){t.compile=function(e,t,n,r,o,i){return e(n,r,o,i)},t.parse=function(e,t,n){return n.on("*",function(e){throw new Error('Unexpected token "'+e.match+'" in raw tag on line '+t+".")}),!0},t.ends=!0},function(e,t){t.compile=function(e,t){return t.join(" ")+";\n"},t.parse=function(e,t,n,r){var o,i="";return n.on(r.VAR,function(e){return o?void(o+="_ctx."+e.match):!!n.out.length||void(i+=e.match)}),n.on(r.BRACKETOPEN,function(e){return!(!o&&!this.out.length)||void(o=e.match)}),n.on(r.STRING,function(e){return!(o&&!this.out.length)||void(o+=e.match)}),n.on(r.BRACKETCLOSE,function(e){return!(o&&!this.out.length)||(i+=o+e.match,void(o=void 0))}),n.on(r.DOTKEY,function(e){return!o&&!i||void(i+="."+e.match)}),n.on(r.ASSIGNMENT,function(e){if(this.out.length||!i)throw new Error('Unexpected assignment "'+e.match+'" on line '+t+".");this.out.push("_ctx."+i),this.out.push(e.match),this.filterApplyIdx.push(this.out.length)}),!0},t.block=!0},function(e,t,n){var r=n(3);t.compile=function(e,t,n,o,i,a){function u(e){return r.map(e,function(e){return e.content||"string"!=typeof e?(e.content=u(e.content),e):e.replace(/^\s+/,"").replace(/>\s+</g,"><").replace(/\s+$/,"")})}return e(u(n),o,i,a)},t.parse=function(e,t,n){return n.on("*",function(e){throw new Error('Unexpected token "'+e.match+'" on line '+t+".")}),!0},t.ends=!0},function(e,t,n){t.fs=n(25),t.memory=n(29)},function(e,t,n){(function(t){var r=n(27),o=n(28);e.exports=function(e,n){var i={};return n=n||"utf8",e=e?o.normalize(e):null,i.resolve=function(n,r){return r=e?e:r?o.dirname(r):t.cwd(),o.resolve(r,n)},i.load=function(e,t){if(!r||t&&!r.readFile||!r.readFileSync)throw new Error("Unable to find file "+e+" because there is no filesystem to read from.");return e=i.resolve(e),t?void r.readFile(e,n,t):r.readFileSync(e,n)},i}}).call(t,n(26))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?d=h.concat(d):m=-1,d.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=d.length;t;){for(h=d,d=[];++m<t;)h&&h[m].run();m=-1,t=d.length}h=null,g=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,p,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,d=[],g=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new s(e,t)),1!==d.length||g||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(26))},function(e,t,n){var r=n(28),o=n(3);e.exports=function(e,t){var n={};return t=t?r.normalize(t):null,n.resolve=function(e,n){return n=t?t:n?r.dirname(n):"/",r.resolve(n,e)},n.load=function(t,n){var r,i;return i=[t,t.replace(/^(\/|\\)/,"")],r=e[i[0]]||e[i[1]],r||o.throwError('Unable to find template "'+t+'".'),n?void n(null,r):r},n}}])});